Justin@localhost ~/os-f25-jmlizardi $ make
gcc -ffreestanding -mgeneral-regs-only -mno-mmx -m32 -march=i386 -fno-pie -fno-stack-protector -g3 -Wall  -c -g -o obj/rprintf.o src/rprintf.c
gcc -ffreestanding -mgeneral-regs-only -mno-mmx -m32 -march=i386 -fno-pie -fno-stack-protector -g3 -Wall  -c -g -o obj/terminal.o src/terminal.c
gcc -ffreestanding -mgeneral-regs-only -mno-mmx -m32 -march=i386 -fno-pie -fno-stack-protector -g3 -Wall  -c -g -o obj/kernel_main.o src/kernel_main.c
src/kernel_main.c: In function ‘main’:
src/kernel_main.c:58:25: warning: unused variable ‘color’ [-Wunused-variable]
   58 |     const unsigned char color = 7; // gray text on black background
      |                         ^~~~~
gcc -ffreestanding -mgeneral-regs-only -mno-mmx -m32 -march=i386 -fno-pie -fno-stack-protector -g3 -Wall  -c -g -o obj/interrupt.o src/interrupt.c
src/interrupt.c: In function ‘write_tss’:
src/interrupt.c:147:21: warning: unused variable ‘stack_top’ [-Wunused-variable]
  147 |     extern uint32_t stack_top;
      |                     ^~~~~~~~~
src/interrupt.c: In function ‘keyboard_handler’:
src/interrupt.c:359:19: warning: unused variable ‘scancode’ [-Wunused-variable]
  359 |     unsigned char scancode = inb(0x60);
      |                   ^~~~~~~~
gcc -ffreestanding -mgeneral-regs-only -mno-mmx -m32 -march=i386 -fno-pie -fno-stack-protector -g3 -Wall  -c -g -o obj/ide.o src/ide.s
src/ide.s: Assembler messages:
src/ide.s:1: Error: no such instruction: `reading the harddisk using ports!'
src/ide.s:2: Error: junk at end of line, first unrecognized character is `+'
src/ide.s:5: Error: no such instruction: `this took me months to get working but I finally managed it.'
src/ide.s:7: Error: no such instruction: `this code only works for the 286+so you must detect for 8088115somewhere'
src/ide.s:8: Error: junk `code.' after expression
src/ide.s:8: Error: operand size mismatch for `in'
src/ide.s:10: Error: no such instruction: `technical Information on the ports:'
src/ide.s:11: Error: no such instruction: `port Read/Write Misc'
src/ide.s:12: Error: junk at end of line, first unrecognized character is `-'
src/ide.s:13: Error: junk at end of line, first unrecognized character is `1'
src/ide.s:14: Error: junk at end of line, first unrecognized character is `1'
src/ide.s:15: Error: junk at end of line, first unrecognized character is `1'
src/ide.s:16: Error: junk at end of line, first unrecognized character is `1'
src/ide.s:17: Error: junk at end of line, first unrecognized character is `1'
src/ide.s:18: Error: junk at end of line, first unrecognized character is `1'
src/ide.s:19: Error: junk at end of line, first unrecognized character is `1'
src/ide.s:20: Error: no such instruction: `bit 7=1'
src/ide.s:21: Error: no such instruction: `bit 6=0'
src/ide.s:22: Error: no such instruction: `bit 5=1'
src/ide.s:23: Error: no such instruction: `bit 4=0 drive 0 select'
src/ide.s:24: Error: junk at end of line, first unrecognized character is `='
src/ide.s:25: Error: no such instruction: `bit 3-0 head select bits'
src/ide.s:26: Error: junk at end of line, first unrecognized character is `1'
src/ide.s:27: Error: no such instruction: `bit 7=1 controller is executing a command'
src/ide.s:28: Error: no such instruction: `bit 6=1 drive is ready'
src/ide.s:29: Error: no such instruction: `bit 5=1 write fault'
src/ide.s:30: Error: no such instruction: `bit 4=1 seek complete'
src/ide.s:31: Error: no such instruction: `bit 3=1 sector buffer requires servicing'
src/ide.s:32: Error: no such instruction: `bit 2=1 disk data read corrected'
src/ide.s:33: Error: no such instruction: `bit 1=1 index - set to 1 each revolution'
src/ide.s:34: Error: no such instruction: `bit 0=1 previous command ended in an error'
src/ide.s:35: Error: junk at end of line, first unrecognized character is `1'
src/ide.s:37: Error: junk at end of line, first unrecognized character is `5'
src/ide.s:38: Error: junk at end of line, first unrecognized character is `2'
src/ide.s:39: Error: junk at end of line, first unrecognized character is `2'
src/ide.s:40: Error: junk at end of line, first unrecognized character is `2'
src/ide.s:41: Error: junk at end of line, first unrecognized character is `2'
src/ide.s:42: Error: junk at end of line, first unrecognized character is `3'
src/ide.s:43: Error: junk at end of line, first unrecognized character is `3'
src/ide.s:44: Error: junk at end of line, first unrecognized character is `3'
src/ide.s:45: Error: junk at end of line, first unrecognized character is `3'
src/ide.s:47: Error: no such instruction: `most of these should work on even non-IDE hard disks.'
src/ide.s:48: Error: no such instruction: `this code is for reading,the code for writing is the next article.'
src/ide.s:50: Error: junk at end of line, first unrecognized character is `='
src/ide.s:51: Error: no such instruction: `ata read sectors (LBA mode)'
src/ide.s:53: Error: junk at end of line, first unrecognized character is `@'
src/ide.s:54: Error: junk at end of line, first unrecognized character is `@'
src/ide.s:55: Error: junk at end of line, first unrecognized character is `@'
src/ide.s:57: Error: junk at end of line, first unrecognized character is `@'
src/ide.s:59: Error: no such instruction: `lots of info from:'
src/ide.s:62: Error: no such instruction: `c Prototype:'
src/ide.s:63: Error: invalid character '(' in mnemonic
src/ide.s:65: Error: junk at end of line, first unrecognized character is `|'
src/ide.s:66: Error: junk at end of line, first unrecognized character is `|'
src/ide.s:67: Error: junk at end of line, first unrecognized character is `|'
src/ide.s:68: Error: junk at end of line, first unrecognized character is `|'
src/ide.s:69: Error: junk at end of line, first unrecognized character is `|'
src/ide.s:70: Error: junk at end of line, first unrecognized character is `|'
src/ide.s:71: Error: junk at end of line, first unrecognized character is `|'
src/ide.s:72: Error: junk at end of line, first unrecognized character is `|'
src/ide.s:73: Error: junk at end of line, first unrecognized character is `|'
src/ide.s:74: Error: junk at end of line, first unrecognized character is `|'
src/ide.s:75: Error: junk at end of line, first unrecognized character is `|'
src/ide.s:79: Error: junk at end of line, first unrecognized character is `='
src/ide.s:80: Error: junk at end of line, first unrecognized character is `['
src/ide.s:81: Error: no such instruction: `global ata_lba_read'
src/ide.s:84: Error: operand size mismatch for `mov'
src/ide.s:91: Error: operand size mismatch for `mov'
src/ide.s:91: Error: no such instruction: `digital output register'
src/ide.s:92: Error: operand size mismatch for `mov'
src/ide.s:92: Error: no such instruction: `disable interrupts'
src/ide.s:93: Error: operand size mismatch for `out'
src/ide.s:95: Error: operand size mismatch for `mov'
src/ide.s:95: Error: no such instruction: `get LBA in EAX'
src/ide.s:96: Error: operand size mismatch for `mov'
src/ide.s:96: Error: no such instruction: `get buffer in EDI'
src/ide.s:97: Error: operand size mismatch for `mov'
src/ide.s:97: Error: no such instruction: `get sector count in ECX'
src/ide.s:98: Error: operand size mismatch for `and'
src/ide.s:99: Error: operand size mismatch for `mov'
src/ide.s:99: Error: no such instruction: `save LBA in RBX'
src/ide.s:101: Error: operand size mismatch for `mov'
src/ide.s:101: Error: no such instruction: `port to send drive and bit 24 - 27 of LBA'
src/ide.s:102: Error: operand size mismatch for `shr'
src/ide.s:102: Error: no such instruction: `get bit 24 - 27 in al'
src/ide.s:103: Error: backward ref to unknown label "11100000:"
src/ide.s:103: Error: operand size mismatch for `or'
src/ide.s:103: Error: no such instruction: `set bit 6 in al for LBA mode'
src/ide.s:104: Error: operand size mismatch for `out'
src/ide.s:106: Error: operand size mismatch for `mov'
src/ide.s:106: Error: no such instruction: `port to send number of sectors'
src/ide.s:107: Error: operand size mismatch for `mov'
src/ide.s:107: Error: no such instruction: `get number of sectors from CL'
src/ide.s:108: Error: operand size mismatch for `out'
src/ide.s:110: Error: operand size mismatch for `mov'
src/ide.s:110: Error: no such instruction: `port to send bit 0 - 7 of LBA'
src/ide.s:111: Error: operand size mismatch for `mov'
src/ide.s:111: Error: no such instruction: `get LBA from EBX'
src/ide.s:112: Error: operand size mismatch for `out'
src/ide.s:114: Error: operand size mismatch for `mov'
src/ide.s:114: Error: no such instruction: `port to send bit 8 - 15 of LBA'
src/ide.s:115: Error: operand size mismatch for `mov'
src/ide.s:115: Error: no such instruction: `get LBA from EBX'
src/ide.s:116: Error: operand size mismatch for `shr'
src/ide.s:116: Error: no such instruction: `get bit 8 - 15 in AL'
src/ide.s:117: Error: operand size mismatch for `out'
src/ide.s:119: Error: operand size mismatch for `mov'
src/ide.s:119: Error: no such instruction: `port to send bit 16 - 23 of LBA'
src/ide.s:120: Error: operand size mismatch for `mov'
src/ide.s:120: Error: no such instruction: `get LBA from EBX'
src/ide.s:121: Error: operand size mismatch for `shr'
src/ide.s:121: Error: no such instruction: `get bit 16 - 23 in AL'
src/ide.s:122: Error: operand size mismatch for `out'
src/ide.s:124: Error: operand size mismatch for `mov'
src/ide.s:124: Error: no such instruction: `command port'
src/ide.s:125: Error: operand size mismatch for `mov'
src/ide.s:125: Error: no such instruction: `read with retry.'
src/ide.s:126: Error: operand size mismatch for `out'
src/ide.s:129: Error: no such instruction: `ignore the error bit for the first 4 status reads -- ie. implement 400ns delay on ERR only'
src/ide.s:130: Error: no such instruction: `for BSY clear and DRQ set'
src/ide.s:131: Error: operand size mismatch for `mov'
src/ide.s:133: Error: operand size mismatch for `in'
src/ide.s:133: Error: no such instruction: `grab a status byte'
src/ide.s:134: Error: operand size mismatch for `test'
src/ide.s:134: Error: no such instruction: `bsy flag set?'
src/ide.s:135: Error: junk `.retry' after expression
src/ide.s:136: Error: operand size mismatch for `test'
src/ide.s:136: Error: no such instruction: `drq set?'
src/ide.s:137: Error: junk `.data_rdy' after expression
src/ide.s:139: Warning: no instruction mnemonic suffix given and no register operands; using default for `dec'
src/ide.s:140: Error: junk `.lp1' after expression
src/ide.s:141: Error: no such instruction: `need to wait some more -- loop until BSY clears or ERR sets (error exit if ERR sets)'
src/ide.s:144: Error: operand size mismatch for `in'
src/ide.s:144: Error: no such instruction: `grab a status byte'
src/ide.s:145: Error: operand size mismatch for `test'
src/ide.s:145: Error: no such instruction: `bsy flag set?'
src/ide.s:146: Error: junk `.pior_l' after expression
src/ide.s:146: Error: junk at end of line, first unrecognized character is `('
src/ide.s:147: Error: operand size mismatch for `test'
src/ide.s:147: Error: no such instruction: `err or DF set?'
src/ide.s:148: Error: junk `.fail' after expression
src/ide.s:150: Error: no such instruction: `if BSY and ERR are clear then DRQ must be set -- go and read the data'
src/ide.s:151: Error: operand size mismatch for `mov'
src/ide.s:151: Error: no such instruction: `data port,in and out'
src/ide.s:152: Error: operand size mismatch for `mov'
src/ide.s:153: Error: no such instruction: `gulp one 512b sector into edi'
src/ide.s:155: Error: operand size mismatch for `mov'
src/ide.s:155: Error: invalid character '"' in mnemonic
src/ide.s:156: Error: operand size mismatch for `in'
src/ide.s:156: Error: no such instruction: `delay 400ns to allow drive to set new values of BSY and DRQ'
src/ide.s:157: Error: operand size mismatch for `in'
src/ide.s:158: Error: operand size mismatch for `in'
src/ide.s:159: Error: operand size mismatch for `in'
src/ide.s:161: Error: no such instruction: `after each DRQ data block it is mandatory to either:'
src/ide.s:162: Error: no such instruction: `receive and ack the IRQ -- or poll the status port all over again'
src/ide.s:164: Warning: no instruction mnemonic suffix given and no register operands; using default for `inc'
src/ide.s:164: Error: no such instruction: `increment the current absolute LBA'
src/ide.s:165: Error: junk `[16+ebp]' after expression
src/ide.s:165: Warning: no instruction mnemonic suffix given and no register operands; using default for `dec'
src/ide.s:165: Error: no such instruction: `decrement the "sectors to read" count'
src/ide.s:166: Error: junk `.pior_l' after expression
src/ide.s:168: Error: operand size mismatch for `mov'
src/ide.s:169: Error: invalid character '"' in mnemonic
src/ide.s:170: Error: operand size mismatch for `xor'
src/ide.s:171: Error: operand size mismatch for `test'
src/ide.s:171: Error: junk `last status ERR bits' after expression
src/ide.s:171: Error: number of operands mismatch for `test'
src/ide.s:172: Error: junk `.done' after expression
src/ide.s:175: Error: operand size mismatch for `mov'
make: *** [Makefile:41: obj/ide.o] Error 1
